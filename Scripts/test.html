<!DOCTYPE html>
<html lang="bs-BA">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Statistike Nekretnina</title>
</head>

<body>
    <script src="SpisakNekretnina.js"></script> <!-- Ensure SpisakNekretnina.js is loaded first -->
    <script src="StatistikaNekretnina.js"></script> <!-- Then load StatistikeNekretnina.js -->

    <script>
        // Example data for properties and users
        const listaNekretnina = [{
            id: 1,
            tip_nekretnine: "Stan",
            naziv: "Useljiv stan Sarajevo",
            kvadratura: 58,
            cijena: 232000,
            tip_grijanja: "plin",
            lokacija: "Novo Sarajevo",
            godina_izgradnje: 2019,
            datum_objave: "01.10.2023.",
            opis: "Sociis natoque penatibus.",
            upiti: [{
                korisnik_id: 1,
                tekst_upita: "Nullam eu pede mollis pretium."
            },
            {
                korisnik_id: 2,
                tekst_upita: "Phasellus viverra nulla."
            }]
        }, {
            id: 21,
            tip_nekretnine: "Stan",
            naziv: "Useljiv stan Sarajevo",
            kvadratura: 58,
            cijena: 32000,
            tip_grijanja: "plin",
            lokacija: "Novo Sarajevo",
            godina_izgradnje: 2019,
            datum_objave: "01.10.2009.",
            opis: "Sociis natoque penatibus.",
            upiti: [{
                korisnik_id: 1,
                tekst_upita: "Nullam eu pede mollis pretium."
            },
            {
                korisnik_id: 1,
                tekst_upita: "Nullam eu pede mollis pretium."
            },
            {
                korisnik_id: 2,
                tekst_upita: "Phasellus viverra nulla."
            }]
        }, {
            id: 55,
            tip_nekretnine: "Stan",
            naziv: "Useljiv stan Sarajevo",
            kvadratura: 58,
            cijena: 232000,
            tip_grijanja: "plin",
            lokacija: "Novo Sarajevo",
            godina_izgradnje: 2019,
            datum_objave: "01.10.2003.",
            opis: "Sociis natoque penatibus.",
            upiti: [{
                korisnik_id: 1,
                tekst_upita: "Nullam eu pede mollis pretium."
            },
            {
                korisnik_id: 1,
                tekst_upita: "Nullam eu pede mollis pretium."
            },
            {
                korisnik_id: 1,
                tekst_upita: "Nullam eu pede mollis pretium."
            },
            {
                korisnik_id: 2,
                tekst_upita: "Phasellus viverra nulla."
            }]
        },
        {
            id: 2,
            tip_nekretnine: "Kuća",
            naziv: "Mali poslovni prostor",
            kvadratura: 20,
            cijena: 70000,
            tip_grijanja: "struja",
            lokacija: "Centar",
            godina_izgradnje: 2005,
            datum_objave: "20.08.2023.",
            opis: "Magnis dis parturient montes.",
            upiti: [{
                korisnik_id: 2,
                tekst_upita: "Integer tincidunt."
            }
            ]
        },
        {
            id: 3,
            tip_nekretnine: "Kuća",
            naziv: "Mali poslovni prostor",
            kvadratura: 20,
            cijena: 70000,
            tip_grijanja: "struja",
            lokacija: "Centar",
            godina_izgradnje: 2005,
            datum_objave: "20.08.2023.",
            opis: "Magnis dis parturient montes.",
            upiti: [{
                korisnik_id: 2,
                tekst_upita: "Integer tincidunt."
            }
            ]
        },
        
        {
            id: 4,
            tip_nekretnine: "Kuća",
            naziv: "Mali poslovni prostor",
            kvadratura: 20,
            cijena: 70000,
            tip_grijanja: "struja",
            lokacija: "Centar",
            godina_izgradnje: 2005,
            datum_objave: "20.08.2023.",
            opis: "Magnis dis parturient montes.",
            upiti: [{
                korisnik_id: 2,
                tekst_upita: "Integer tincidunt."
            }
            ]
        },
        {
            id: 3,
            tip_nekretnine: "Kuća",
            naziv: "Mali poslovni prostor",
            kvadratura: 35,
            cijena: 70000,
            tip_grijanja: "struja",
            lokacija: "Centar",
            godina_izgradnje: 2005,
            datum_objave: "20.08.2023.",
            opis: "Magnis dis parturient montes.",
            upiti: [{
                korisnik_id: 2,
                tekst_upita: "Integer tincidunt."
            }
            ]
        },
        {
            id: 3,
            tip_nekretnine: "Kuća",
            naziv: "Mali poslovni prostor",
            kvadratura: 100,
            cijena: 70000,
            tip_grijanja: "struja",
            lokacija: "Centar",
            godina_izgradnje: 2005,
            datum_objave: "20.08.2023.",
            opis: "Mala sala za svadbe",
            upiti: [{
                korisnik_id: 2,
                tekst_upita: "Integer tincidunt."
            }
            ]
        },
        {
            id: 3,
            tip_nekretnine: "Kuća",
            naziv: "Mali poslovni prostor",
            kvadratura: 40,
            cijena: 70000,
            tip_grijanja: "struja",
            lokacija: "Centar",
            godina_izgradnje: 2005,
            datum_objave: "20.08.2023.",
            opis: "Magnis dis parturient montes.",
            upiti: [{
                korisnik_id: 2,
                tekst_upita: "Integer tincidunt."
            }
            ]
        }]

        const listaKorisnika = [{
    id: 1,
    ime: "Neko",
    prezime: "Nekic",
    username: "username1",
},
{
    id: 2,
    ime: "Neko2",
    prezime: "Nekic2",
    username: "username2",
}]
        // Initialize StatistikaNekretnina
        const statistika = StatistikaNekretnina();
        statistika.init(listaNekretnina, listaKorisnika);

        // Test prosjecnaKvadratura
        const prosjecnaKvadratura = statistika.prosjecnaKvadratura({ tip_nekretnine: "Stan" });
        console.log("Prosječna kvadratura: ", prosjecnaKvadratura); // Should calculate only for "Stan"

        // Test outlier
        const outlier = statistika.outlier({ tip_nekretnine: "Kuća" }, "kvadratura");
        console.log("Outlier nekretnina: ", outlier);

        // Test histogramCijena
        const histogramResult = statistika.histogramCijena(
            [{ od: 2000, do: 2010 }, { od: 2010, do: 2024 }],
            [{ od: 10000, do: 150000 }, { od: 150000, do: 1000000 }]
        );
        console.log("Histogram cijena: ", histogramResult);

        let NekoveNekretnine=statistika.mojeNekretnine(listaKorisnika[0]);
        console.log(NekoveNekretnine);

    </script>
</body>

</html>